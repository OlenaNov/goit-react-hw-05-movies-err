"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[688],{1688:function(e,r,n){n.r(r),n.d(r,{default:function(){return N}});var t,a,u,i,o,s,c=n(3433),f=n(5861),l=n(9439),p=n(4687),v=n.n(p),d=n(2791),h=n(1087),m=n(7961),b=n.n(m),x=n(5264),Z=n(9841),g=n(168),k=n(6444),w=k.ZP.form(t||(t=(0,g.Z)(["\n    padding: 36px;\n"]))),y=k.ZP.input(a||(a=(0,g.Z)(["\n    padding: 8px;\n"]))),j=k.ZP.button(u||(u=(0,g.Z)(["\n    padding: 8px;\n"]))),P=n(184),S=function(e){var r=e.onSubmitForm,n=(0,d.useState)(""),t=(0,l.Z)(n,2),a=t[0],u=t[1];return(0,P.jsxs)(w,{onSubmit:function(e){e.preventDefault(),a?(r(a),u("")):x.Notify.failure("Please, write the name of the movie!")},children:[(0,P.jsx)(y,{type:"text",value:a,onChange:function(e){return u(e.target.value)}}),(0,P.jsx)(j,{type:"submit",children:"Search"})]})},C=n(7689),_=k.ZP.ul(i||(i=(0,g.Z)(["\n    list-style: none;\n\n"]))),O=k.ZP.li(o||(o=(0,g.Z)(["\n    padding: 8px;\n"]))),E=(0,k.ZP)(h.rU)(s||(s=(0,g.Z)(["\n    text-decoration: none;\n    color: #5252d4;\n"]))),F=function(e){var r=e.items,n=(0,C.TH)();return(0,P.jsx)(_,{children:r.map((function(e){return(0,P.jsx)(O,{children:(0,P.jsx)(E,{to:"".concat(e.id),state:{from:n},children:e.title})},e.id)}))})},N=function(){var e=(0,d.useState)(!1),r=(0,l.Z)(e,2),n=r[0],t=r[1],a=(0,d.useState)([]),u=(0,l.Z)(a,2),i=u[0],o=u[1],s=(0,h.lr)(),p=(0,l.Z)(s,2),m=p[0],g=p[1],k=m.get("value"),w=(0,d.useRef)(!0);(0,d.useEffect)((function(){return(0,f.Z)(v().mark((function e(){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.current){e.next=2;break}return e.abrupt("return");case 2:if(w.current=!1,""!==k){e.next=6;break}return e.abrupt("return");case 6:return r=new AbortController,e.prev=8,t(!0),e.next=12,(0,Z.Z)("/3/search/movie",r,k);case 12:n=e.sent,o((0,c.Z)(n.results)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),x.Notify.failure("OOps! Error loading information. Please, try again!");case 19:return e.prev=19,t(!1),e.finish(19);case 22:return e.abrupt("return",(function(){return r.abort()}));case 24:case"end":return e.stop()}}),e,null,[[8,16,19,22]])})))}),[k]);var y=function(){var e=(0,f.Z)(v().mark((function e(r){var n,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g({value:r}),n=new AbortController,e.prev=2,t(!0),e.next=6,(0,Z.Z)("/3/search/movie",n,r);case 6:a=e.sent,o((0,c.Z)(a.results)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),x.Notify.failure("OOps! Error loading information. Please, try again!");case 13:return e.prev=13,t(!1),e.finish(13);case 16:case 17:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(r){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[n&&(0,P.jsx)(b(),{color:"#eb1736"}),(0,P.jsx)(S,{onSubmitForm:y}),i?(0,P.jsx)(F,{items:i}):null]})}},9841:function(e,r,n){var t=n(5861),a=n(4687),u=n.n(a),i=n(4569),o=n.n(i);o().defaults.baseURL="https://api.themoviedb.org";var s=function(){var e=(0,t.Z)(u().mark((function e(r,n,t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(r,{params:{api_key:"84bdbe2f4baecea0c1be28902afc6a5b",controller:n,query:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(r,n,t){return e.apply(this,arguments)}}();r.Z=s}}]);
//# sourceMappingURL=688.0f4e720d.chunk.js.map